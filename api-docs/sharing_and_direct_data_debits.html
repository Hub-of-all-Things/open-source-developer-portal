<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Sharing and Direct Data Debits | Hub of All Things API</title><meta name=description content="Sharing and Direct Data Debits"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.acde.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.e78f.js></script><script src=https://cdn.statuspage.io/se-v2.js></script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href=https://www.hubofallthings.com class="logo icon-logo-hat-white">Hub of All Things</a><div class=hamburger><a href="https://hubofallthings.com/main/what-is-the-hat/">What is the HAT</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href="https://www.hatdex.org/">Data Exchange</a> <a href="https://hatcommunity.org/">Community Foundation</a> <a href="/">Developers</a> <a href="http://hubofallthings.com/hat-rd/">Research</a> <a class="btn primary" href="https://hubofallthings.com/main/what-is-the-hat/">Learn More</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/api-docs/" class=active>API docs</a> <a href=https://github.com/Hub-of-all-Things class="no-nav js-two-col-no-toggle">Repositories</a> <a href=/sitemap class="no-nav js-two-col-no-toggle">Sitemap</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav active"><section><h6>Introduction</h6><ul><li><a href=/api-docs/about_the_hat.html>About the HAT</a><ul></ul></li><li><a href=/api-docs/license.html>License</a><ul></ul></li><li><a href=/api-docs/the_api.html>The API</a><ul></ul></li></ul><h6>Endpoints</h6><ul><li><a href=/api-docs/raw_data_input_and_output.html>Raw Data Input and Output</a><ul><li><a href=/api-docs/raw_data_input_and_output/data_field.html>Data Field</a></li><li><a href=/api-docs/raw_data_input_and_output/data_sources.html>Data Sources</a></li><li><a href=/api-docs/raw_data_input_and_output/data_tables.html>Data Tables</a></li><li><a href=/api-docs/raw_data_input_and_output/data_value.html>Data Value</a></li><li><a href=/api-docs/raw_data_input_and_output/retrieving_raw_data.html>Retrieving Raw Data</a></li></ul></li><li><a href=/api-docs/sharing_and_direct_data_debits.html class=active>Sharing and Direct Data Debits</a><ul></ul></li><li><a href=/api-docs/user_management.html>User Management</a><ul><li><a href=/api-docs/user_management/authentication.html>Authentication</a></li><li><a href=/api-docs/user_management/direct_data_credit_and_debit_accounts.html>Direct Data Credit and Debit Accounts</a></li></ul></li></ul><h6>Other Resources</h6><ul><li class=external-link><a href=https://hatters.hubofallthings.com target=_blank><span class=icon-sidenav-option>Get a HAT</span></a></li><li class=external-link><a href=http://forum.hatcommunity.org/c/developers target=_blank><span class=icon-sidenav-option>Developer Forum</span></a></li></ul></section></nav></section><section class=cnt-two-col__content><h1 id=sharing-and-direct-data-debits>Sharing and Direct Data Debits</h1><p>The virtualised database (or “Raw Data”) allows users to export the Data, where (potentially) separate Tables are created to match the expected Data format that an API consuming service expects. For example, if a user has cross-referenced the films they have “Liked” on Facebook to their viewing history on Netflix, then a service which wants to consume this data may expect a Table containing films that the user has Liked with a total number of times they have watched the film. To simplify this for the first phase, it is assumed that a service consuming the PDS API will be able to read the data held within the contextualised tables, and format the data appropriately within the virtualised database.</p><p>The HAT’s Direct Data Debit (D3) System work like a direct debit in a bank: we can decide exactly what Data to share, for how long, to whom such data may be exchanged, and what return may be offered in the exchange. In this way, other individuals and applications can exchange their Data/Services with us, but only if we have agreed to do so, i.e. if we enabled their Accounts. For more details about enabling/disabling Data Debit Accounts, see section “User Management” at the beginning for this document. Any Data that belongs to the User can be bundled and shared from any Collection or directly from Source Data (e.g. Facebook), either at the level of individual Properties or entire Collections of Data.</p><h3 id=direct-debit-structure>Direct Debit Structure</h3><p>All Direct Debit API calls contain all the information defined in Direct Debit Structure. If you want to propose a new Direct Debit, you have to include the mandatory information in the API request. Direct Debit structure is explained in the table below.</p><p>INSERT TABLE HERE</p><h3 id=proposing-direct-data-debit>Proposing Direct Data Debit</h3><p>For a Direct Data Debit to be created, it first needs to be proposed to the user, who can then choose whether or not they would like to enable it.</p><p>To propose a new Direct Debit, the API request body should contain all the mandatory information explained in the table above. The API request should then be posted to /dataDebit/propose endpoint.</p><h3 id=enabling-disabling-direct-debit-requests>Enabling/Disabling Direct Debit Requests</h3><p>Consider a situation where you, owner of the HAT, receive a request from Direct Debit to read some of your Data. You can either enable or disable that request. To do this, you should make an API request using PUT to /directDebit/UUID/enable or /directDebit/UUID/disable endpoint to enable or disable the request respectively. Note that the API request body should be left empty and that UUID is a Direct Debit key (see Direct Debit Structure table above).</p><h3 id=retrieving-data-debit-values>Retrieving Data Debit Values</h3><p>If a User enables a Data Debit (see “Enabling/Disabling Direct Debit Requests” above), then individuals or applications that proposed that Data Debit to you gain access to get your Data. Alternatively, if you proposed a Direct Debit and an individual enabled it, you can retrieve the Data yourself. To do this, you need to make a GET request to /dataDebit/UUID/values endpoint.</p><hr><section class=copyright><div class=page-wrap><div><span>© 2017 HAT Data Exchange Ltd.</span> <a href="https://hubofallthings.com/main/cookie-policy/">Cookie Policy</a></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.44e4.js></script></body></html>