<!DOCTYPE html><html class=no-js><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Step 3 - Verify and authenticate user | Hub of All Things API</title><meta name=description content="Verify and authenticate user"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/main.fa80.css><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><link rel=stylesheet href="//fonts.googleapis.com/css?family=Roboto+Slab:300|Open+Sans:300,400,600,700"><script src=/js/head-scripts.e78f.js></script><script src=https://cdn.statuspage.io/se-v2.js></script><!-- Code highlighting --><link rel=stylesheet href=/lib/code-highlight/styles/atom-one-dark.css><script src=/lib/code-highlight/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></head><body><!--[if lt IE 8]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><header><div class="header__primary js-two-col-header-primary"><div class=page-wrap><div><a href="/" class="logo icon-logo-hat-white">Hub of All Things</a><div class=hamburger><a href=http://hubofallthings.com/c/about>What is the HAT</a> <a class="btn primary js-hamburger">Menu</a></div></div><nav class=js-hamburger-nav><a href="/">Developers</a> <a href="https://www.hatdex.org/">Data Exchange</a> <a href="https://hatcommunity.org/">Community Foundation</a> <a class="btn primary" href="https://hubofallthings.com/">Hub of All Things</a></nav></div></div><nav class="header__secondary js-two-col-nav-toggle"><div class=js-two-col-header-secondary><div class=page-wrap><a href="/home/">Resources</a> <a href="/guides/" class=active>Guides</a><!-- <a href="/documentation/" >API docs</a> --><!-- <a href="/tutorials/" >Tutorials</a> --> <a href=https://github.com/Hub-of-all-Things class="no-nav js-two-col-no-toggle">Repositories</a><div class="custom-select custom-select--blue js-global-language-select"><select name=select class=js-language-select><option value=raw>raw</option><option value=php>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div></div></nav></header><div class=content><div class=cnt-two-col><div class=page-wrap><section class="cnt-two-col__nav js-two-col-nav"><div class=close><button class="js-two-col-nav-close icon-cnt-two-col-close"></button></div><div class=language-picker><h6>Language</h6><div class="custom-select custom-select--blue"><select class=js-language-select name=select><option value=raw>raw</option><option value=php selected>php</option><option value=ruby>ruby</option><option value=python>python</option><option value=javascript>javascript</option></select><div class=arrow></div></div></div><!-- nav elements below should be in the same order of the secondary navigation --><nav class="side-nav js-side-nav"><section><h6>Tools</h6><ul><li><a href=/home/tools/HAT_core.html>HAT</a><ul></ul></li><li><a href=/home/tools/rumpel.html>Rumpel</a><ul></ul></li><li><a href=/home/tools/rumpellite.html>RumpelLite</a><ul></ul></li><li><a href=/home/tools/milliner.html>Milliner</a><ul></ul></li><li><a href=/home/tools/data_plugs.html>Data Plugs</a><ul></ul></li><li><a href=/home/tools/dex.html>DEX</a><ul></ul></li><li><a href=/home/tools/marketsquare.html>MarketSquare</a><ul></ul></li><li><a href=/home/tools/databuyer.html>Data Buyer</a><ul></ul></li><li><a href=/home/tools/off_the_shelf_hats.html>Off-the-shelf HATs</a><ul></ul></li></ul><h6>HAT Certification</h6><ul><li><a href=/home/hat_applications.html>HAT Applications</a><ul><li><a href=/home/hat_applications/rating_scheme_best_practice.html>Rating Scheme Best Practice</a></li><li><a href=/home/hat_applications/rating_scheme.html>Rating Scheme</a></li></ul></li><li><a href=/home/hat_service_provider.html>HAT Service Provider</a><ul><li><a href=/home/hat_service_provider/security_requirement_best_practice.html>Security Requirement Best Practice</a></li><li><a href=/home/hat_service_provider/security_requirement.html>Security Requirement</a></li></ul></li></ul><h6>Knowing the HAT Tech Ecosystem</h6><ul><li><a href=/home/knowing.html>Knowing the Ecosystem</a><ul><li><a href=/home/knowing/2_hat_users.html>HAT Users</a></li><li><a href=/home/knowing/3_hat_application.html>HAT Applications</a></li><li><a href=/home/knowing/5_hatdex.html>HATDeX</a></li><li><a href=/home/knowing/4_hat_community_foundation.html>HAT Community Foundation</a></li></ul></li><li><a href=/home/knowing/hat_platform_process_architecture.html>The Architecture Diagram</a><ul></ul></li></ul><h6>Why the HAT?</h6><ul><li><a href=/home/why/what_is_hat.html>Why the HAT?</a><ul></ul></li><li><a href=/home/why/what_can_you_make.html>What can you make on the HAT?</a><ul></ul></li><li><a href=/home/why/why_build_something_on_the_hat.html>Why build something on the HAT?</a><ul></ul></li><li><a href=/home/why/some_cool_apps.html>Some cool apps</a><ul></ul></li></ul></section><section class=side-nav__options><h6>Other Resources</h6><ul><li class=external-link><a href=https://hatters.hubofallthings.com target=_blank><span class=icon-sidenav-option>Get a HAT</span></a></li><li class=external-link><a href=http://forum.hatcommunity.org/c/developers target=_blank><span class=icon-sidenav-option>Developer Forum</span></a></li></ul></section></nav><nav class="side-nav js-side-nav"><section><h6>API v2</h6><ul><li><a href=/documentation/authentication-v2.html>Authentication</a><ul></ul></li><li><a href=/documentation/bundles-v2.html>Bundles</a><ul><li><a href=/documentation/bundles-v2/retrieve_registered_bundle_data.html>Retrieve Registered Bundle Data</a></li><li><a href=/documentation/bundles-v2/propose_data_bundles.html>Propose Data Bundles</a></li></ul></li><li><a href=/documentation/combinators-v2.html>Combinators</a><ul><li><a href=/documentation/combinators-v2/get_data.html>Propose Data Bundles</a></li><li><a href=/documentation/combinators-v2/propose_endpoint.html>Propose A New data Endpoint</a></li></ul></li><li><a href=/documentation/data-v2.html>Data</a><ul><li><a href=/documentation/data-v2/bulk_upload.html>Bulk-upload a large chunk of data to the same endpoint</a></li><li><a href=/documentation/data-v2/delete_a_record.html>Delete A Record</a></li><li><a href=/documentation/data-v2/filter_data_records.html>Filter data records up to a maximum number</a></li><li><a href=/documentation/data-v2/get_data_records.html>Data Records</a></li></ul></li><li><a href=/documentation/data_debits-v2.html>Data Debits</a><ul><li><a href=/documentation/data_debits-v2/update_a_data_debit.html>Update a data debit</a></li><li><a href=/documentation/data_debits-v2/disable_a_data_debit_copy.html>Disable a Data Debit</a></li><li><a href=/documentation/data_debits-v2/enable_a_data_debit.html>Enable a Data Debit</a></li><li><a href=/documentation/data_debits-v2/get_data_debit_values.html>Get Data Debit values</a></li><li><a href=/documentation/data_debits-v2/propose_a_data_debit.html>Propose a Data Debit</a></li></ul></li><li><a href=/documentation/file_storage-v2.html>HAT File Storage</a><ul></ul></li><li><a href=/documentation/linked_data-v2.html>Linked Data</a><ul><li><a href=/documentation/linked_data-v2/new_endpoint.html>New endpoint for linked data retrieval</a></li><li><a href=/documentation/linked_data-v2/batch_data_upload.html>Batch data upload</a></li><li><a href=/documentation/linked_data-v2/save_an_example_record.html>Save an example notable record</a></li><li><a href=/documentation/linked_data-v2/save_an_example_nudge.html>Save an example nudge</a></li><li><a href=/documentation/linked_data-v2/retireve_linked_data.html>Retrieve linked data points as per registered endpoint</a></li><li><a href=/documentation/linked_data-v2/link_up_data_records.html>Link up data records</a></li></ul></li></ul><h6>API v1 - Deprecated</h6><ul><li><a href=/documentation/raw_data_input_and_output.html>Raw Data Input and Output</a><ul><li><a href=/documentation/raw_data_input_and_output/data_field.html>Data Field</a></li><li><a href=/documentation/raw_data_input_and_output/data_sources.html>Data Sources</a></li><li><a href=/documentation/raw_data_input_and_output/data_tables.html>Data Tables</a></li><li><a href=/documentation/raw_data_input_and_output/data_value.html>Data Value</a></li><li><a href=/documentation/raw_data_input_and_output/retrieving_raw_data.html>Retrieving Raw Data</a></li></ul></li><li><a href=/documentation/sharing_and_direct_data_debits.html>Sharing and Direct Data Debits</a><ul></ul></li><li><a href=/documentation/user_management.html>User Management</a><ul><li><a href=/documentation/user_management/authentication.html>Authentication</a></li><li><a href=/documentation/user_management/direct_data_credit_and_debit_accounts.html>Direct Data Credit and Debit Accounts</a></li></ul></li></ul></section></nav><nav class="side-nav js-side-nav active"><section id=js-sidenav-dropdown class=side-nav__dropdown><h6>Choose a guide</h6><div class=picker id=js-sidenav-dropdown-button><button>HAT Login</button><div class="icon icon-side-nav-collapse-plus"></div><div class="icon icon-side-nav-collapse-minus"></div></div><nav id=js-sidenav-dropdown-nav><a href=/guides/hat_login>HAT Login</a> <a href=/guides/raw_data_io>Raw Data I/O</a> <a href=/guides/data-bundling>The power of HAT data bundling</a> <a href=/guides/data-debits>Data Debits for consented data sharing</a> <a href=/guides/file-storage>File Storage</a> <a href=/guides/dex>Data Exchange Services</a> <a href=/guides/provisioning>Provisioning</a> <a href=/guides/building-data-plug>Building a Data Plug</a> <a href=/guides/requesting-data-databuyer>Requesting Data from HAT users</a> <a href=/guides/customising-rumpel>Customising Rumpel</a></nav></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/data-bundling>Overview: The power of HAT data bundling</a><div class=dot></div></li><li><a href=/guides/data-bundling/01-data-combinators.html>Data Combinators</a><div class=dot></div></li><li><a href=/guides/data-bundling/02-data-bundles.html>Data Bundles</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/data-debits>Overview: Data Debits for consented data sharing</a><div class=dot></div></li><li><a href=/guides/data-debits/01-data-debit-proposal.html>Data Debit Proposal</a><div class=dot></div></li><li><a href=/guides/data-debits/02-approve-data-debit.html>Approve Data Debit</a><div class=dot></div></li><li><a href=/guides/data-debits/03-request-data-debit-values.html>Request Data Debit Values</a><div class=dot></div></li><li><a href=/guides/data-debits/04-update-data-debit.html>Optional - Update Data Debit</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/raw_data_io>Overview: Raw Data I/O</a><div class=dot></div></li><li><a href=/guides/raw_data_io/01-data-input.html>Data Input</a><div class=dot></div></li><li><a href=/guides/raw_data_io/02-data-retrieval.html>Data Retrieval</a><div class=dot></div></li><li><a href=/guides/raw_data_io/03-data-modification.html>Data Modification</a><div class=dot></div></li><li><a href=/guides/raw_data_io/04-next-steps.html>Consented Data Exchange</a><div class=dot></div></li></ol></section><section class=steps-nav><h6>In this guide</h6><ol><li><a href=/guides/hat_login>Overview: HAT Login</a><div class=dot></div></li><li><a href=/guides/hat_login/01-send-hat-login.html>Step 1 - Send user for HAT Login</a><div class=dot></div></li><li><a href=/guides/hat_login/02-login-ui.html>Step 2 - User Logs in</a><div class=dot></div></li><li><a href=/guides/hat_login/03-verify-authenticate.html class=active>Step 3 - Verify and authenticate user</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/provisioning>Overview: Provisioning</a><div class=dot></div></li><li><a href=/guides/provisioning/01-sign-up.html>Step 1 - Sign user up with Milliner</a><div class=dot></div></li><li><a href=/guides/provisioning/02-create-hat.html>Step 2 - Create the HAT</a><div class=dot></div></li><li><a href=/guides/provisioning/03-register-hat.html>Step 3 - Register HAT with DEX</a><div class=dot></div></li><li><a href=/guides/provisioning/04-out-of-the-box.html>HATs out of the box</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/dex>Overview: Data Exchange Services</a><div class=dot></div></li><li><a href=/guides/dex/01-statistics.html>DEX Statistics</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/file-storage>Overview: File Storage</a><div class=dot></div></li><li><a href=/guides/file-storage/01-upload.html>Step 1 - File Upload</a><div class=dot></div></li><li><a href=/guides/file-storage/02-access-management.html>Step 2 - Access Management</a><div class=dot></div></li><li><a href=/guides/file-storage/03-contents.html>Step 3 - Content Access</a><div class=dot></div></li><li><a href=/guides/file-storage/04-search.html>Step 4 - File lookup/search</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/customising-rumpel>Overview: Customising Rumpel</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/requesting-data-databuyer>Overview: Requesting Data from HAT users</a><div class=dot></div></li></ol></section><section class=steps-nav style=display:none><h6>In this guide</h6><ol><li><a href=/guides/building-data-plug>Overview: Building a Data Plug</a><div class=dot></div></li></ol></section><section class=side-nav__options><h6>API Resources</h6><ul><li class=external-link><a href=https://documenter.getpostman.com/view/110376/hat-rich-data-api-showcase/6YySZS7 target=_blank><span class=icon-sidenav-option>API v2 reference docs</span></a></li><li class=external-link><a href="http://hub-of-all-things.github.io/doc/" target=_blank><span class=icon-sidenav-option>API v1 reference docs</span></a></li></ul></section></nav></section><section class=cnt-two-col__content><p>If the user logs in, they get redirected to the URL provided, with <code>token</code> query parameter appended and containing a RS256-signed JWT token, e.g.:</p><div class="code-snippet js-code-snippet language-json nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-json nohide" data-lang="json nohide"><span class=w>    </span><span class=err>https://twitter-plug.hubofallthings.com/authenticate/hat?token=eyJ</span><span class=mi>0</span><span class=err>eXAiOiJKV</span><span class=mi>1</span><span class=err>QiLCJhbGciOiJSUzI</span><span class=mi>1</span><span class=err>NiJ</span><span class=mi>9</span><span class=err>.eyJzdWIiOiJleUp</span><span class=mi>3</span><span class=err>Y</span><span class=mi>205</span><span class=err>MmFXUmxja</span><span class=mi>2</span><span class=err>xFSWpvaVkzSmxaR</span><span class=mi>1</span><span class=err>Z</span><span class=mi>1</span><span class=err>ZEdsaGJITWlMQ</span><span class=mi>0</span><span class=err>p</span><span class=mi>3</span><span class=err>Y</span><span class=mi>205</span><span class=err>MmFXUmxja</span><span class=mi>3</span><span class=err>RsZVNJNkluUmxjM</span><span class=mi>1</span><span class=err>FpZlE</span><span class=mi>9</span><span class=err>PSIsInJlc</span><span class=mi>291</span><span class=err>cmNlIjoiaHR</span><span class=mi>0</span><span class=err>cHM</span><span class=mi>6</span><span class=err>XC</span><span class=mi>9</span><span class=err>cL</span><span class=mi>3</span><span class=err>R</span><span class=mi>3</span><span class=err>aXR</span><span class=mi>0</span><span class=err>ZXItcGx</span><span class=mi>1</span><span class=err>Zy</span><span class=mi>5</span><span class=err>odWJvZmFsbHRoaW</span><span class=mi>5</span><span class=err>ncy</span><span class=mi>5</span><span class=err>jb</span><span class=mi>21</span><span class=err>cL</span><span class=mi>2</span><span class=err>F</span><span class=mi>1</span><span class=err>dGhlbnRpY</span><span class=mi>2</span><span class=err>F</span><span class=mi>0</span><span class=err>ZVwvaGF</span><span class=mi>0</span><span class=err>IiwiYWNjZXNzU</span><span class=mi>2</span><span class=err>NvcGUiOiJ</span><span class=mi>2</span><span class=err>YWxpZGF</span><span class=mi>0</span><span class=err>ZSIsImlzcyI</span><span class=mi>6</span><span class=err>InRlc</span><span class=mi>3</span><span class=err>QuaHVib</span><span class=mi>2</span><span class=err>ZhbGx</span><span class=mi>0</span><span class=err>aGluZ</span><span class=mi>3</span><span class=err>MubmV</span><span class=mi>0</span><span class=err>IiwiZXhwIjoxNDk</span><span class=mi>2</span><span class=err>OTIyNDIxLCJpYXQiOjE</span><span class=mi>0</span><span class=err>OTY</span><span class=mi>2</span><span class=err>NjMyMjEsImp</span><span class=mi>0</span><span class=err>aSI</span><span class=mi>6</span><span class=err>ImJlMGYyOTY</span><span class=mi>3</span><span class=err>Nzk</span><span class=mi>3</span><span class=err>MDc</span><span class=mi>5</span><span class=err>MThkOWEzZDYxOGRkOTg</span><span class=mi>5</span><span class=err>MGQ</span><span class=mi>2</span><span class=err>MDRkMGRlMTg</span><span class=mi>2</span><span class=err>MDEzYjE</span><span class=mi>2</span><span class=err>MTYwNmU</span><span class=mi>5</span><span class=err>ZmVmZDgxYmRjMmJjZTVjZDE</span><span class=mi>2</span><span class=err>NWE</span><span class=mi>2</span><span class=err>MTAxZWU</span><span class=mi>0</span><span class=err>ZTU</span><span class=mi>1</span><span class=err>NzJiYmVkMjIzYTRmOWRiNDcyNDc</span><span class=mi>5</span><span class=err>YTBhMDY</span><span class=mi>4</span><span class=err>ODkwNGZhN</span><span class=mi>2</span><span class=err>QxZTUxNThjMzJlMzNhOTY</span><span class=mi>5</span><span class=err>YWRmZTdkYzc</span><span class=mi>4</span><span class=err>MmI</span><span class=mi>4</span><span class=err>ODk</span><span class=mi>1</span><span class=err>ZjJhY</span><span class=mi>2</span><span class=err>E</span><span class=mi>2</span><span class=err>MDMyOTM</span><span class=mi>3</span><span class=err>NTRmZWJhNGUxNzNhMzE</span><span class=mi>3</span><span class=err>ZmQ</span><span class=mi>3</span><span class=err>ZDk</span><span class=mi>1</span><span class=err>OTQyYzRmNTRkMWM</span><span class=mi>3</span><span class=err>YWM</span><span class=mi>5</span><span class=err>YzI</span><span class=mi>3</span><span class=err>OThiYTZhODZhZWEzYTBmMzQ</span><span class=mi>4</span><span class=err>OTI</span><span class=mi>4</span><span class=err>MDJlZDQ</span><span class=mi>4</span><span class=err>ZmU</span><span class=mi>1</span><span class=err>NWEwMmUyYjgzNDJlODUxM</span><span class=mi>2</span><span class=err>E</span><span class=mi>2</span><span class=err>MTEzODBmYWIifQ.</span><span class=mi>4</span><span class=err>thestm</span><span class=mi>60</span><span class=err>WrueQmlBxDRp</span><span class=mi>37</span><span class=err>uGKUtGpx</span><span class=mi>6</span><span class=err>PeE</span><span class=mi>4</span><span class=err>lB_xzlRmxrQ</span><span class=mi>67</span><span class=err>vk</span><span class=mi>1</span><span class=err>xFT</span><span class=mi>1</span><span class=err>nyvFvZfGLnkq</span><span class=mi>51</span><span class=err>GaB</span><span class=mi>5</span><span class=err>UsA_zbMhhATC</span><span class=mi>8</span><span class=err>dDWX</span><span class=mi>1</span><span class=err>FjNiiRfjAj</span><span class=mi>5</span><span class=err>r</span><span class=mi>5</span><span class=err>LFTZW-hRnI</span><span class=mi>0</span><span class=err>LodzyEJ</span><span class=mi>8</span><span class=err>YMFbG_t-epSo_KsIig</span><span class=mi>4</span><span class=err>Ardnzt</span><span class=mi>5</span><span class=err>VioLwmdr</span><span class=mi>37</span><span class=err>YJLHxmn</span><span class=mi>1033</span><span class=err>ArBocVqsAg_pH</span><span class=mi>8</span><span class=err>DghsaRbzdDWXHcwnCO</span><span class=mi>5</span><span class=err>wtHJn</span><span class=mi>0</span><span class=err>RVvAdXG</span><span class=mi>5</span><span class=err>TKhegs</span><span class=mi>3</span><span class=err>AuneYktTktvYjj__o</span><span class=mi>66</span><span class=err>kn</span><span class=mi>8</span><span class=err>DROKsqeICqCAJTxuJFQpBdoOlPXGgfUW</span><span class=mi>4</span><span class=err>VQ</span><span class=mi>1</span><span class=err>wcFC</span><span class=mi>91</span><span class=err>MoPns</span><span class=mi>1</span><span class=err>I</span><span class=mi>04</span><span class=err>otuo</span><span class=mi>6</span><span class=err>wglCXE</span><span class=mi>576</span><span class=err>NnLHL</span><span class=mi>3</span><span class=err>Q</span><span class=mi>7</span><span class=err>ZKZ_CTVqmnlNg</span><span class=mi>5</span><span class=err>txC_pnog</span><span class=w>
</span></code></pre></div></div><p>The token decodes to:</p><p>The Header:</p><div class="code-snippet js-code-snippet language-json nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-json nohide" data-lang="json nohide"><span class=p>{</span><span class=w>
  </span><span class=nt>"typ"</span><span class=p>:</span><span class=w> </span><span class=s2>"JWT"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"alg"</span><span class=p>:</span><span class=w> </span><span class=s2>"RS256"</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><p>The Payload:</p><div class="code-snippet js-code-snippet language-json nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-json nohide" data-lang="json nohide"><span class=p>{</span><span class=w>
  </span><span class=nt>"sub"</span><span class=p>:</span><span class=w> </span><span class=s2>"eyJwcm92aWRlcklEIjoiY3JlZGVudGlhbHMiLCJwcm92aWRlcktleSI6InRlc3QifQ=="</span><span class=p>,</span><span class=w>
  </span><span class=nt>"resource"</span><span class=p>:</span><span class=w> </span><span class=s2>"https://twitter-plug.hubofallthings.com/authenticate/hat"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"accessScope"</span><span class=p>:</span><span class=w> </span><span class=s2>"validate"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"iss"</span><span class=p>:</span><span class=w> </span><span class=s2>"test.hubofallthings.net"</span><span class=p>,</span><span class=w>
  </span><span class=nt>"exp"</span><span class=p>:</span><span class=w> </span><span class=mi>1496922421</span><span class=p>,</span><span class=w>
  </span><span class=nt>"iat"</span><span class=p>:</span><span class=w> </span><span class=mi>1496663221</span><span class=p>,</span><span class=w>
  </span><span class=nt>"jti"</span><span class=p>:</span><span class=w> </span><span class=s2>"be0f296779707918d9a3d618dd9890d604d0de186013b161606e9fefd81bdc2bce5cd165a6101ee4e5572bbed223a4f9db472479a0a0688904fa7d1e5158c32e33a969adfe7dc782b8895f2aca603293754feba4e173a317fd7d95942c4f54d1c7ac9c2798ba6a86aea3a0f34892802ed48fe55a02e2b8342e8513a611380fab"</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><p>The key parts of the Payload are:</p><ul><li>The <code>resource</code>, which you must verify to check the token was intended for your service</li><li>The <code>iss</code> (issuer), which is the address of the HAT that has creted the token and that you should be logging in</li><li>The <code>exp</code> (expiry) time of the token as a Unix timestamp, defining whether or not the token is still valid</li><li>The <code>accessScope</code> which defines the rights of the token - websites without a prior registration within the ecosystem witll be issued with a <code>validate</code> scope token that only allows for validating authenticity of the token</li></ul><p>And the Signature, which is generated from the token and the private key of the HAT. The signature must be verified to verify that the token has not been tampered with. A HAT’s public key can be accessed at the <code>/publickey</code> endpoint of the HAT (e.g. <code>https://test.hubofallthings.net/publickey</code>). The precise handling of tokens with asymmetric keys will depend on your library, however you need to make sure that your library supports RS256 keys.</p><p><a href=https://jwt.io>jwt.io</a> contains a very useful tool for token debugging while in development as well as listing all the major JWT libraries.</p><p><img src=images/jwtio.png alt=jwt.io title="jwt.io token decoded example"></p><p>JWT libraries <a href=https://jwt.io>are available</a> in all major programming languages and most major frameworks implement wrappers for them. You should be careful in verifying the library of your choice is up to date and does not have reported security flaws in it.</p><nav class=pager-nav><a href=02-login-ui.html>Previous Step: User Logs in</a> <a href="" style=display:none></a></nav><hr><section class=copyright><div class=page-wrap><div><span>© 2017 HAT Data Exchange Ltd.</span> <a href=/sitemap>Sitemap</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!-- <a href="https://hubofallthings.com/main/cookie-policy/">Cookie Policy</a> --></div></div></section></section></div></div></div><script src=//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script>window.jQuery || document.write('<script src="/_bower_components/jquery/jquery.min.js"><\/script>')</script><script src=/js/script.f334.js></script></body></html>